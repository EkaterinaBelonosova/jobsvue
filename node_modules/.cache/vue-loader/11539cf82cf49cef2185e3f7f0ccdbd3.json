{"remainingRequest":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ebelonosova\\jobs\\jobsvue\\src\\components\\Jobsbody.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\src\\components\\Jobsbody.vue","mtime":1566467939363},{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ebelonosova\\jobs\\jobsvue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n@media (max-width: 1024px){\r\n    .btn-top{   \r\n        margin-top: 15px;\r\n    }\r\n}\r\n",{"version":3,"sources":["Jobsbody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA","file":"Jobsbody.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"container\">\r\n    <h3 class=\"text-center\">The GitHub Jobs</h3>\r\n    <section v-if=\"errored\">\r\n         <div class=\"alert alert-warning\" role=\"alert\">\r\n            <p>We're sorry, we're not able to retrieve this information at the moment, please try back later</p>\r\n            </div>\r\n    </section>\r\n    <section v-else>\r\n        <div class=\"row\">\r\n            <div class=\"col-md col-lg-3\">\r\n                <div class=\"card border-light mb-3\" style=\"max-width: 18rem;margin-top: 54px;\">\r\n                    <div class=\"card-body\">\r\n                       <div class=\"input-group mb-3\">\r\n                            <div class=\"input-group-prepend\">\r\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Description</span>\r\n                            </div>\r\n                            <input ref=\"descr\" placeholder=\"description\" type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                        </div>\r\n                        <div class=\"input-group mb-3\">\r\n                            <div class=\"input-group-prepend\">\r\n                                <span class=\"input-group-text\" id=\"inputGroup-sizing-default\" style=\"width: 106px;\">Location</span>\r\n                            </div>\r\n                            <input ref=\"local\" placeholder=\"location\" type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\r\n                        </div>\r\n                        <div class=\"custom-control custom-checkbox\">\r\n                            <input type=\"checkbox\" class=\"custom-control-input\"  id=\"fullTime\">\r\n                            <label class=\"custom-control-label\" for=\"fullTime\">Full Time</label>\r\n                        </div>\r\n                        <br>              \r\n                        <div  class=\"row\">\r\n                            <div class=\"col\">\r\n                            <button @click=\"search()\" type=\"button\" class=\"btn btn-primary btn-top\">Search</button> \r\n                            </div>\r\n                            <div class=\"col \">\r\n                            <button @click=\"cleanAll()\" type=\"button\" class=\"btn btn-outline-secondary btn-top\">Clean</button> \r\n                            </div>                               \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            <div v-if=\"loading\" class=\"col-md col-lg-9\">\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <div class=\"spinner-border m-5 text-primary\" role=\"status\">\r\n                        <span class=\"sr-only\">Loading...</span>\r\n                    </div>\r\n                </div>              \r\n            </div>\r\n            <div v-else class=\"col-sm-9\">\r\n                <div v-if=\"emptyData\" class=\"alert alert-danger\" role=\"alert\">\r\n                    Nothing found(\r\n                </div>\r\n                <nav v-else aria-label=\"Page navigation example\">\r\n                    <ul class=\"pagination justify-content-end\">\r\n                        <li class=\"page-item\" v-if=\"pageNumber > 1\">\r\n                        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"  @click=\"prevPage()\">\r\n                            <span aria-hidden=\"true\">&laquo;</span>\r\n                        </a>\r\n                        </li>\r\n                        <li class=\"page-item\"><a class=\"page-link\" href=\"#\">{{pageNumber}}</a></li>\r\n                        <li class=\"page-item\" v-if=\"getNextURLEmpty\">\r\n                        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click=\"nextPage()\">\r\n                            <span aria-hidden=\"true\">&raquo;</span>\r\n                        </a>\r\n                        </li>\r\n                    </ul>\r\n                </nav>\r\n                <div class=\"card-group\"  style=\"height: 82vh;overflow: auto;\">\r\n                    <div class=\"col-sm-4\" v-for=\"vacancy in results\">\r\n                    <div class=\"card border-primary mb-3\" style=\"max-width: 18rem;\">\r\n                        <div class=\"card-header\"><h5 class=\"card-title\">{{vacancy.title}}</h5></div>\r\n                        <div class=\"card-body\">\r\n                            <span style=\"display: inline-flex;\"><img style=\"height: 18px;\" src=\"../img/location_on.png\"/><h6 class=\"card-title\">{{vacancy.location}}</h6></span>\r\n                            <p class=\"card-text font-italic\">{{vacancy.type}}</p>\r\n                            <p class=\"card-text\">{{vacancy.company}}</p> \r\n                            <div  class=\"row\">\r\n                                <div class=\"col\">\r\n                                    <router-link :to=\"{path: '/about/'+vacancy.id }\" type=\"button\" class=\"btn btn-primary\">Detailed</router-link> \r\n                                </div>\r\n                                <div class=\"col text-right\">\r\n                                    <p class=\"card-text\"><small class=\"text-muted align-bottom\">{{vacancy.created_at | setDate}}</small></p> \r\n                                </div>                               \r\n                            </div>\r\n                        </div>\r\n                         </div>\r\n                    </div>\r\n                </div>     \r\n            </div>\r\n        </div>\r\n        \r\n    </section>\r\n \r\n</div>\r\n</template>\r\n<style>\r\n@media (max-width: 1024px){\r\n    .btn-top{   \r\n        margin-top: 15px;\r\n    }\r\n}\r\n</style>\r\n<script>\r\nfunction  urlad(page, desc) {\r\n  return 'https://jobs.github.com/positions.json?page='+ page + desc;\r\n}\r\nimport axios from 'axios'\r\n\r\n    export default {\r\n        name: 'Jobsbody',\r\n        data() {\r\n            return {\r\n                nextResults: null,\r\n                results: null,          \r\n                loading: true,\r\n                errored: false,\r\n                pageNumber: 1,\r\n                description: null,\r\n                checked: null\r\n            }\r\n\r\n        },\r\n        created () {\r\n            // загружаем данные, когда представление создано\r\n            // и данные реактивно отслеживаются\r\n            this.nextData();\r\n            this.fetchData();\r\n        },\r\n        watch: {\r\n            // при изменениях маршрута запрашиваем данные снова\r\n            '$route': 'nextData',\r\n            '$route': 'fetchData'     \r\n        },\r\n        methods: {\r\n            nextData: function () {  //get json data to next page\r\n                axios\r\n                .get(urlad(this.pageNumber+1, this.description)) // загружаем данные\r\n                .then(response => (this.nextResults = response.data)); // получаем  ответ\r\n                \r\n            },\r\n            fetchData: function () { //get json data to current  page\r\n                axios\r\n                .get(urlad(this.pageNumber, this.description)) // загружаем данные\r\n                .then(response => (this.results = response.data)) // получаем  ответ\r\n                .catch(error => {\r\n                    console.log(error);\r\n                    this.errored = true;\r\n                })\r\n                .finally(() => (this.loading = false));\r\n            },\r\n            updateData: function() {\r\n                this.loading = true;\r\n                this.fetchData();\r\n                this.nextData(); \r\n            },\r\n            nextPage: function() { \r\n                this.pageNumber++;\r\n                this.updateData();\r\n            },\r\n            prevPage: function() { \r\n                this.pageNumber--;\r\n                this.updateData();        \r\n            },\r\n            search: function(){\r\n                let loc  = \"\", desc  = \"\", check  = \"\";\r\n                if(this.$refs.local.value) loc = '&location='+ this.$refs.local.value;\r\n                if(this.$refs.descr.value) desc = '&description='+ this.$refs.descr.value;  \r\n                check = '&full_time='+ this.checked;       \r\n                this.description = loc + desc + check;\r\n                this.updateData();\r\n            },\r\n            cleanAll: function(){\r\n                Object.assign(this.$data, this.$options.data.call(this)); // все значения data приводим к первоначальным\r\n                this.updateData();\r\n            }\r\n        },\r\n        filters: {  //получение даты вакансии в читабельном виде\r\n            setDate (value) {\r\n            return new Date(value).toLocaleDateString();\r\n            },\r\n        },\r\n        computed: {\r\n            getNextURLEmpty() {  //проверка на пустоту данных получаемых с json со следующей странице для пагинации\r\n                if(this.nextResults){\r\n                if(this.nextResults.length != 0) {\r\n                    return true;\r\n                }          \r\n                }\r\n                return false;\r\n            },\r\n            emptyData() {  //проверка на пустоту данных получаемых с json \r\n                if(this.results){\r\n                if(this.results.length != 0) {\r\n                    return false;\r\n                }          \r\n                }\r\n                return true;\r\n            }\r\n\r\n        } \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}